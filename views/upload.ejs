<% include ./partials/header.ejs %>
<div class="w-full min-h-screen bg-zinc-900 text-white py-5 lg:pl-80 lg:pr-72 lg:py-16">
  <div class="flex justify-between items-center px-4 md:px-8 lg:px-16">
    <a class="text-sm md:text-base text-blue-500" href="/profile"><i class="ri-arrow-left-s-line"></i> profile</a>
    <h2 class="leading-none text-sm md:text-lg">Upload Post</h2>
    <a class="text-sm md:text-base" href="/feed"><i class="ri-home-line"></i> home</a>
  </div>
  <div class="flex flex-col items-center gap-2 mt-10 md:mt-20">
    <div class="image w-32 h-32 md:w-48 md:h-48 lg:w-64 lg:h-64 rounded-full border-2 border-zinc-800 flex items-center justify-center">
      <i class="text-4xl md:text-5xl lg:text-6xl font-light ri-image-line"></i>
    </div>
    <button id="selectpic" class="text-blue-500 capitalize text-sm md:text-base">select picture</button>
  </div>
  <div class="flex w-full justify-center items-center mt-8 md:mt-10 gap-3">
    <h5 class="post opacity-100 border-b-[1px] p-2 border-zinc-400 text-sm md:text-base cursor-pointer">post</h5>
    <h5 class="story opacity-20 border-b-[1px] p-2 border-zinc-900 text-sm md:text-base cursor-pointer">story</h5>
  </div>
  <form id="uploadform" action="/post" class="w-full  px-4 md:px-8 lg:px-16 py-3 mt-8 md:mt-10" enctype="multipart/form-data" method="post">
    <input class="postinput" hidden name="category" type="radio" value="post" checked="true">
    <input class="storyinput" hidden name="category" type="radio" value="story">
    <input id="imageinp" hidden type="file" name="image">
    <textarea name="caption" class="px-2 py-1 w-full md:w-full lg:w-[30vw] bg-zinc-900 border-2 h-20 md:h-24 lg:h-32 border-zinc-800 resize-none rounded-md outline-none text-sm md:text-base" placeholder="Write a caption..."></textarea>
    <input class="w-full md:w-full lg:w-[30vw] px-2 py-2 bg-blue-500 rounded-md mt-4 text-sm md:text-base cursor-pointer hover:bg-blue-600 transition-colors" type="submit" value="Post">
  </form>
</div>

<script>
  document.querySelector("#selectpic")
  .addEventListener("click", function(){
    document.querySelector("#uploadform #imageinp").click();
  });

  document.querySelector(".post")
  .addEventListener("click", function(){
    this.style.opacity = 1;
    this.style.borderColor = "rgb(161,161,170)";

    document.querySelector(".story").style.opacity = .2;
    document.querySelector(".story").style.borderColor = "#18181B";
    
    document.querySelector(".postinput").checked = true;
    document.querySelector(".storyinput").checked = false;
  })

  document.querySelector(".story")
  .addEventListener("click", function(){
    this.style.opacity = 1;
    this.style.borderColor = "rgb(161,161,170)";

    document.querySelector(".post").style.opacity = .2;
    document.querySelector(".post").style.borderColor = "#18181B";

    document.querySelector(".postinput").checked = false;
    document.querySelector(".storyinput").checked = true;
  })
</script>
<% include ./partials/footer.ejs %>